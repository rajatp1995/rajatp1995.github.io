<html>
<head>
  <title>Smart Shopping Cart</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <style>
       table, td {
       border: 1px solid black;
       }
    </style>
</head>
<body>
	<div class="container">
	<h3><center>Update Items</center></h3>
  <table id="tabss" style="width:100%">
   <th>
     <td><b><center>Available Items</center></b></td>
   </th>
  </table>
  <table id="myTablee" style="width:100%">
  </table><br>
  <b>To add a new item :</b><br>
	<form id="dataform">
		<input type="text" name="pname" placeholder="Product Name">
    <br>
		<input type="text" name="px" placeholder="X-Coordinate">
    <br>
		<input type="text" name="py" placeholder="Y-Coordinate">
    <br><br>
		<button onclick="saveData()">Save Data</button>
	</form>
  <br><br>
  <b>To delete a new item :</b><br>
  <form id="dataformdel">
  <input type="text" name="pname" placeholder="Product Name to be deleted">
  <br><br>
  <button onclick="saveData()">Delete Data</button><br><br><br>
  <button id="refButton" class="float-left submit-button" >Back to Smart Cart</button>
</div>
</body>
</html>

<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-database.js"></script>

<script type="text/javascript">
	var config = {
    apiKey: "AIzaSyCn_P-dbq07eDimEGzS8qMGObW1JP_U4ts",
    authDomain: "projectdatabase-d5dcc.firebaseapp.com",
    databaseURL: "https://projectdatabase-d5dcc.firebaseio.com",
    projectId: "projectdatabase-d5dcc",
    storageBucket: "projectdatabase-d5dcc.appspot.com",
    messagingSenderId: "289821114496"
  };
    firebase.initializeApp(config);

 </script>

 <script type="text/javascript">

      document.getElementById("refButton").onclick = function () {
      location.href = "astaralgo.html";
      };

      var firebdataa = sessionStorage.getItem('fbase');
      var cllist = new Array();
      cllist = firebdataa.split(',');

      var table = document.getElementById("myTablee");

      for(var t=0;t<cllist.length;t++)
      {
      var row = table.insertRow(t);
      var cell1 = row.insertCell(0);
      cell1.innerHTML = "<center>" + cllist[t] + "</center>";
      }

    document.getElementById("myButton").onclick = function () {
    location.href = "index.html";
    };

  	var pdata = "";
  	var proddata = new Array();
  	var fdata = new Array();

  	var compdata;
    var complist = firebase.database().ref();
    complist.on('value', function(namee){
    namee.forEach(function(childSnapshot) {
        var key = childSnapshot.key;
        var childData = childSnapshot.val();
        });
    });

	function saveData() {
    var x = document.getElementById("dataform");
    var i;
    for (i = 0; i < x.length ;i++) {
        pdata += x.elements[i].value + ",";
    }
    proddata = pdata.split(",");
    fdata = proddata.slice(0,3);
    console.log(fdata);

    var a = parseInt(fdata[1]);
    var b = parseInt(fdata[2]);

    firebase.database().ref(fdata[0]).set({
    name: fdata[0],
    xval: a,
    yval: b
    });

    }  
</script>